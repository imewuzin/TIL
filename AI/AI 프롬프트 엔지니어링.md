# AI 프롬프트 엔지니어링

## 인공지능

: 인간의 학습능력, 추론능력, 지각능력, 자연언어 이해능력 등을 컴퓨터 프로그램으로 실현한 기술

- 종류
  
  - 약인공지능
    
    : 특정 과제나 제한된 영역에서만 지능을 발휘하는 AI
    
    - ex) 음성 인식, 이미지 분류
  
  - 강인공지능
    
    : 인간과 유사한 종합적인 지능을 가지며 다양한 과제를 수행할 수 있는 AI
    
    - AGI(Artificial General Intelligence)라고도 불리며, CoT 기반의 추론 특화형 모델인 OpenAI o1 Pro가 이를 달성했다는 의견이 있음
  
  - 초인공지능
    
    : 모든 인간의 지능을 초원한 AI로, 이론적으로만 존재
    
    - 다양한 윤리적, 철학적 논의가 이어지고 있으며, 인공지능의 '특이점'이라는 표현으로 주로 일컬어짐

- AI 기술 발전의 주요 요인
  
  - 컴퓨팅 파워 증가 : 더 빠르고 강력한 하드웨어 개발
  
  - 데이터 양적 증가 : 인터넷, IoT 등의 발달로 AI 학습 데이터 급증
  
  - 알고리즘 발전 : 신경망 등 알고리즘 개선으로 정교한 AI 개발 가능
  
  - 클라우드 컴퓨팅 : 클라우드 환경에서 AI 학습 가능, 접근성과 효율성 증가

- AI 연구의 주요 과제와 윤리적 논의
  
  - 데이터 프라이버시 : 개인 데이터 사용 시 프라이버시 문제 발생
  
  - 편향과 공정성 : AI 학습 데이터의 편향이 결과에 영향을 줄 수 있음
  
  - 투명성과 설명 가능성 : AI의 의사결정 과정을 인간이 이해할 수 있는 수준으로 설명할 필요 (OpenAI o1 모델의 CoT 적용)
  
  - 안전성 : AI 시스템이 의도치 않은 행동을 하지 않도록 하는 안전 장치가 필요

- 인공지능 공급 사슬
  
  1. 반도체 및 하드웨어 제조 : NVIDIA, AMD, Intel, TSMC 등이 칩셋 설계 및 그래픽카드 생산
  
  2. 데이터 공급 및 처리 : Scale AI, Appen, Innodata 등이 데이터 수집, 정제, 라벨링 담당
  
  3. 기반 모델 개발 : OpenAI, Google, Meta, Anthropic 등이 AI 알고리즘 설계 및 학습
  
  4. 서비스 개발 및 튜닝 : Perflexity, 메타마인드, 뤼튼 등이 맞춤형 AI 솔루션 개발
  
  5. 클라우드 플랫폼 : AWS, Microsoft Azure, Google Cloud 등이 고성능 컴퓨팅 자원 제공

---

## 기계학습 (Machine Learning)

: 컴퓨터가 명시적인 프로그램 없이도 데이터를 통해 학습하여 패턴과 규칙을 찾고 작업을 수행하는 기술

- 종류
  
  - 지도 학습
    
    : 정답이 있는 데이터로 학습
    
    - ex) 질병 진단, 이미지 분류, 스팸 메일 분류
  
  - 비지도 학습
    
    : 정답이 없는 데이터로 학습하여 패턴과 규칙을 찾음
    
    - ex) 데이터 군집화, 고객 세분화
  
  - 강화 학습
    
    : 시행착오를 통한 학습 (가중치 이용. 당근과 채찍)
    
    - ex) 게임 AI, 챗봇, 로봇 제어

- 기계학습의 주요 알고리즘
  
  - 선형 회귀
    
    : 데이터 간 선형 관계를 찾아 예측 값을 계산
    
    - ex) 집값 예측, 주가 예측
  
  - 로지스틱 회귀
    
    : 분류 문제에 사용. 특정 범주에 속할 확률을 예측
    
    - ex) 이진 분류 (스팸 vs 비스팸)
  
  - 의사결정 트리
    
    : 결정 트리 구조를 통해 데이터의 특성에 따라 분류 또는 예측
    
    - ex) 신용카드 사기 탐기
  
  - 신경망
    
    : 인간의 뇌 구조를 모방한 다층 퍼셉트론 구조로 데이터를 학습
    
    - ex) 이미지 분류, 음성 인식

---

## 딥러닝 (Deep Learning)

: 여러 층(layer)으로 구성된 신경망을 사용하여 데이터를 학습하는 기계학습의 한 분야

- 필수 요소 : 대량의 데이터와 고성능 하드웨어

- 계층적 학습 : 낮은 층에서 기본 특징을 추출하고, 높은 층에서는 더 복잡한 패턴을 학습

- 장점 : 성능이 뛰어남

- 단점
  
  - 고성능 하드웨어 필수 & 높은 비용
  
  - 깨끗하게 정제된 데이터가 대량으로 필요
  
  - 모델의 불투명성(Black-box)
  
  - 과적합의 위험성 (일부에 대해서만 집중 학습된 경우)

- 딥러닝 모델의 종류
  
  - CNN (Convolutional Neural Network)
    
    : 주로 이미지 처리에 사용. 이미지 내의 특징을 자동으로 추출
    
    - ex) 이미지 인식, 자율 주행
  
  - RNN (Recurrent Neural Network)
    
    : 순차적인 데이터 처리에 사용
    
    - ex) 언어 번역, 음성 인식
  
  - Transformer
    
    : RNN의 한계를 극복한 모델. NLP에서 주로 사용 (자연어 처리 가능)
    
    - ex) 언어 생성 모델, 번역기

---

## 거대언어모델(LLM)

: 텍스트 데이터를 대량으로 학습하여 인간과 유사한 언어 생성 및 이해가 가능한 모델

- 특징
  
  - 자연어 처리 분야에서 큰 혁신을 이끌어냄
  
  - 사람과 대화하거나 글을 작성할 수 있는 수준에 도달

- 대표 모델
  
  - BERT : 문맥을 이해하기 위해 문장의 양방향을 모두 학습하는 모델
  
  - GPT (Generative Pretrained Transformer)
    
    : 입력 텍스트의 연속적인 단어 생성을 통해 글을 생성. 텍스트 생성, 자동 응답, 요약 등에 사용
    
    - 사전 학습 : 대규모 데이터에서 언어 구조와 문맥을 학습. 문법, 일반 상식, 언어적 맥락을 이해
    
    - 트랜스포머 아키텍처 : 어텐션(집중) 메커니즘을 통해 입력 데이터의 중요한 부분에 집중. 병렬 처리로 속도가 빠름
    
    - 디코더 사용 : GPT는 트랜스포머 구조 중 디코더 부분만 사용하여 단어 예측과 생성을 수행
    
    - 작동 원리 - 언어 생성 과정
      
      1. 입력 데이터 처리 : 사용자 입력을 토큰화하여 각 단어 또는 하위 단어로 나눔. 숫자 형태로 변환. (영어 1단어 = 1토큰. 한글 1음절 = 1토큰)
      
      2. 문맥 이해 : 어텐션 메커니즘이 입력 문맥 내 각 토큰의 중요도를 계산. 이전 정보를 활용해 다음 단어 예측
      
      3. 확률적 예측과 단어 생성 : 다음 단어의 확률을 계산하고 가장 높은 확률의 단어를 선택하여 텍스트 생성
      
      4. 반복적 생성 : 선택된 단어를 문맥에 추가하고 다음 단어 예측 과정을 반복. 지정된 길이까지 생성 완료
    
    - GPT의 학습 과정
      
      - 사전 학습 (Pretraining)
        
        : 수십억 개의 텍스트 데이터에서 패턴을 학습하여 문법, 어휘, 일반 상식 등을 익힘
        
        : 단어의 빈도와 위치를 통해 언어 구조를 이해
      
      - 미세 조정 (Fine-tuning)
        : 특정 작업에 맞춰 추가 학습을 진행
        : 특정한 문체, 어조 또는 응답 형식을 따르도록 조정
        
        - ex) 고객 응대, 교육 자료 생성
    
    - GPT 강점
      
      - 뛰어난 언어 이해 능력
      
      - 다양한 응용성 (텍스트 생성, 번역, 대화 등)
      
      - 스케일링 가능성
    
    - GPT 한계
      
      - 학습 데이터에 따른 편향성
      
      - 높은 연산 자원 요구
      
      - 사실 검증의 어려움 (Black-box 모델)

---

## 프롬프트

: 컴퓨터 또는 인공지능 시스템에 입력되는 질문이나 지시, 명령어

- 과거 : 컴퓨터에 프롬프트를 입력하기 위해 프로그래밍 언어를 사용해야 했음

- 현재 : AI에 프롬프트를 입력하기 위해 자연어를 사용함

- AI 프롬프트의 종류
  
  - 인스트럭션(시스템) 프롬프트 : AI 모델의 역할, 지침, 사전 데이터 등의 내용 (사용자가 입력 불가)
  
  - 유저 프롬프트 : 유저가 AI 모델에게 지시 및 질문하는 내용

- ### 프롬프트 엔지니어링
  
  : AI모델로부터 원하는 결과물을 얻기 위해 입력하는 프롬프트(시스템, 유저)를 최적화하는 기술
  
  - 일반적인 사용자 입장에서의 프롬프트 엔지니어링
    
    : 일반 사용자는 정보를 탐색하거나 글 작성, 데이터 분류 및 가공, 업무 활용 등 다양한 목적으로 AI를 활용하기 위해 프롬프트 엔지니어링 사용
  
  - AI 모델 및 서비스 설계자 입장에서의 프롬프트 엔지니어링
    
    : 모델 및 서비스 설계자는 AI가 해당 서비스를 이용할 유저들이 기대하는 작업을 높은 품질과 일관성을 유지하며 수행할 수 있도록 프롬프트 엔지니어링 적용
  
  - 기본 원리
    
    - 구체성(명확성) : 구체적인 프롬프트로 원하는 답변을 받을 확률을 높임
    
    - 데이터 & 문맥 이해 : AI의 데이터베이스와 문맥 이해를 고려한 프롬프트 작성
    
    - 알고리즘 : 복잡한 지시를 단순화하여 효과적인 프롬프트 설계
  
  - 프롬프트 엔지니어링 기법
    
    - 퓨샷 러닝(Few-shot learning)
      
      - Zero-shot learning
        
        : 사전 예시 없이 바로 작업을 수행하는 방식
        
        - ex) 한국어를 영어로 번역해줘
      
      - One-shot learning
        
        : 하나의 예시로 작업을 학습하는 방식
        
        - ex) 한국어:안녕하세요 -> 영어:Hello 를 예시로 주고 번역 요구
      
      - Few-shot learning
        
        : 2~3개의 예시를 통해 패턴을 학습하는 방식
        
        - 패턴에 주의! 일관성 있게 알려주면 잘못된 답변이 나올수도 있음
        
        - ex) ChatGPT에게 여러 번역 예시를 보여주고 그 패턴을 따라 새로운 문장을 번역하도록 요구
    
    - 정보 제공 및 답변 조건 지정
      
      - AI 및 사용자 역할 지정
      
      - 상황 설명 및 요청의 이유(배경) 작성
      
      - 사전지식 학습
      
      - 예시 답변
      
      - 구체적인 지시사항 설명
      
      - 답변 조건 지정 - Who, Where, How, When
    
    - 알고리즘 기법 적용
      
      1. 분해 : 복잡한 문제를 작고 관리 가능한 하위문제로 나눔
      
      2. 추상화 : 일반적인 패턴과 규칙을 식별해 문제를 간략화
      
      3. 패턴 인식 : 데이터에서 반복되는 패턴과 트렌드 찾기
      
      4. 알고리즘 : 문제를 해결하기 위한 단계별 절차를 정의
  
  - 뛰어난 프롬프트 엔지니어의 3가지 조건
    
    - 사용하는 AI에 대한 이해
    
    - 프롬프트 작성 스킬
    
    - 메타인지 & 문제해결 능력

---

- Generated Knowledge Prompting
  
  : 유저가 AI에게 사전 데이터를 생성하도록 -> 원하는 질문
  
  - ex) OO대회에 대한 역사를 알려줘(사전학습) -> OO대회는 누가 만들었지?

- Chain-of-Thought (CoT. 생각 사슬)
  
  : 복잡한 추론 작업을 수행하기 위해 중간 추론 과정을 순차적으로 연결한 것
  
  - 중간 추론 단계의 연속성과 유창한 표현이 중요하며, 최종 결과를 유도하기 위한 과정 포함
  
  - 특성
    
    - 연속성 : 시작과 끝까지 중간 추론 단계가 논리적으로 연결되어야 함
    
    - 유창성 : 최대한 이해하기 쉽고 자연스러운 언어로 중간 추론 표현
    
    - 효과성 : 중간 추론 단계가 최종 결과를 유도하는데 효과적이어야 함
  
  - 적용 방법
    
    - 'CoT 방식대로 문제를 해결하세요' 지시사항 추가
    
    - 비슷한 유형의 문제 예시 제시

- Self-Consistency
  
  : 복잡한 추론 작업에서 여러 추론 경로를 통해 얻은 다양한 답변 중에서 가장 일관된 답변을 선택하여 모델의 추론 능력을 향상시키는 방법

- Automatic Reasoning and Tool-use (ART)
  
  : 언어 모델이 새로운 작업을 수행하기 위해 스스로 중간 추론 단계를 생성하고 외부 도구를 사용하는 방법
  
  - 사용자의 질문 분석 -> 사용자의 요청을 해결할 최적의 추론 경로와 외부 도구가 무엇인지 탐색 -> 최적의 추론 경로와 외부 도구를 활용해 문제 해결 -> 필요에 따라 사용자가 외부 도구 라이브러리를 추가하거나 수정

- Prompt Chaining
  
  : 작업을 하위 작업으로 분할 -> 하위 작업 식별 -> LLM에 작업 요청 -> 받은 응답을 또 다른 프롬프트의 입력으로 사용
  
  - 복잡한 작업을 순차적으로 수행하고 여러 연산이나 변환을 수행

---

### 프롬프트 작성 Tip!

- AI가 이해하기 쉽도록 프롬프트 작성하기
  
  - 요구하는 바를 명료하게 전달하기
  
  - 복잡한 작업 분해
  
  - 프롬프트의 시작과 끝 부분에 중요한 내용 넣기
  
  - 부정 지시문 대신 긍정 지시문 사용하기
  
  - 마크다운 사용하기
  
  - 리스트 형식의 문장구조, 줄바꿈 및 구분기호 등 사용
  
  - 키워드 반복하기
  
  - 가능한 모든 정보와 데이터 및 기존 지식 제공
  
  - Few-shot learning, CoT 등 활용

- AI가 최상의 답변을 내도록 프롬프트 작성하기
  
  - 단계적 사고 유도
  
  - 유저 및 AI의 역할 지정
  
  - 답변의 형식, 길이, 언어, 톤(말투), 난이도, 구체성 등 지정
  
  - 퓨샷 러닝과 CoT 결합
  
  - 평가 및 후속 질문 시키기 (이해 확인용 퀴즈 내줘 등)
  
  - 세부 정보 요청하게 하기 (추가 정보 필요하면 나한테 물어봐 등)
  
  - 답변의 시작점 및 초기 텍스트 제공
  
  - 고객용 AI 서비스를 구축하는 경우 시스템 프롬프트에 존댓말 적용하기

- AI 활용의 기본 원칙
  
  - 경험이 최고의 스승
  
  - AI와의 대화 습관화
  
  - 검증은 필수

- 효과적인 AI 활용 전략
  
  - 점진적 개선
  
  - 최신 모델 활용
  
  - **분해 기법** 적용


