# CPU 스케줄링

: 운영체제가 CPU 자원을 공정하고 합리적으로 프로세스에 배분하는 과정.

- 컴퓨터 성능에 직결되며, CPU 자원 분배가 잘못되면 중요한 프로세스가 실행되지 않거나 우선순위가 낮은 프로세스만 계속 실행될 수 있음

- 목표
  
  - 공정하게 CPU 자원을 배분하기 위해 프로세스의 우선순위를 고려
  
  - 프로세스의 우선순위는 다양한 요인에 따라 결정

- 프로세스의 우선순위
  
  - 입출력 집중 프로세스 (IO Bound Process)
    
    : 입출력 작업이 많은 프로세스
    
    - 대기 상태에 더 자주 머물며, 우선순위가 높게 설정되는 경우가 많음
  
  - CPU 집중 프로세스 (CPU Bound Process)
    
    : CPU 작업이 많은 프로세스
    
    - 우선순위가 상대적으로 낮게 설정되는 경우가 많음
  
  - 우선순위 결정 : 프로세스의 요구 자원과 중요도에 따라 결정
  
  - 우선순위 확인
    
    - 리눅스 : `nice` 명령어
    
    - 윈도우 : 프로세스 익스플로러

- #### 프로세스 제어 블록 (PCB)
  
  : 프로세스의 상태와 관련된 정보를 저장하는 구조
  
  - CPU 자원 할당 결정

- #### 스케줄링 큐 (Scheduling Queue)
  
  : 자원을 요청하는 프로세스들이 대기하는 큐.
  
  - 종류:
    
    - **준비 큐 (Ready Queue)**: CPU를 기다리는 프로세스가 대기
    - **대기 큐 (Wait Queue)**: 입출력 장치 등의 자원을 기다리는 프로세스가 대기
  
  - 구현 : 큐는 선입선출(FIFO) 원칙에 기반하나, 스케줄링에서 우선순위에 따라 처리

- 스케줄링의 흐름**
  
  - **준비 상태**: CPU 자원을 기다리는 상태
  
  - **실행 상태**: CPU 자원을 할당받아 실행 중인 상태
  
  - **대기 상태**: 입출력 작업 등을 기다리는 상태
  
  - **상태 전이**:
    
    - 실행 상태 -> 대기 상태 : 입출력 작업 필요 시
    - 대기 상태 -> 준비 상태 :  입출력 작업 완료 시

- #### 선점형 / 비선점형 스케줄링
  
  - **선점형 스케줄링 (Preemptive Scheduling)**
    
    : 현재 CPU를 사용 중인 프로세스가 있어도 우선순위가 높은 새로운 프로세스가 CPU 자원을 빼앗을 수 있음
    
    - 프로세스의 실행 중에도 우선순위에 따라 CPU 자원을 재분배함.
  
  - **비선점형 스케줄링 (Non-Preemptive Scheduling)**
    
    : 현재 실행 중인 프로세스가 작업을 끝낼 때까지 다른 프로세스가 CPU 자원을 요청할 수 없음.
    
    - 프로세스의 작업이 끝나야만 CPU 자원이 재분배됨.

---

## CPU 스케줄링 알고리즘

- ##### 선입선처리 스케줄링 (FCFS)
  
  : 준비 큐에 도착한 순서대로 CPU를 할당
  
  - 장점 : 구현이 간단하고 직관적
  
  - 단점 : 실행 시간이 긴 프로세스가 먼저 실행되면 후속 프로세스의 대기 시간이 길어져서 **호위 효과** 발생 가능

- ##### 최단 작업 우선 스케줄링 (SJF)
  
  : 실행 시간이 짧은 프로세스부터 CPU를 할당
  
  - 장점 : 평균 대기 시간이 짧음
  
  - 단점 : 실행 시간이 긴 프로세스가 계속 대기할 수 있는 **기아 현상** 발생 가능

- #### 라운드 로빈 스케줄링 (RR)
  
  : 각 프로세스가 정해진 시간(타임 슬라이스)만큼 CPU를 사용한 후, 다음 프로세스로 넘어감
  
  - 장점 : 모든 프로세스가 공평하게 CPU를 사용할 기회를 가지며, 대기 시간이 균등하게 분배
  - 단점 : 타임 슬라이스 크기가 너무 크거나 작으면 성능 문제 발생 가능

- #### 최소 잔여 시간 우선 스케줄링 (SRT)
  
  : 남은 작업 시간이 가장 짧은 프로세스부터 CPU를 할당
  
  - 장점 : 실행 시간이 짧은 프로세스부터 처리하여 평균 대기 시간이 짧아짐
  - 단점 : 프로세스가 계속해서 대기할 수 있는 **기아 현상** 발생 가능

- #### 우선순위 스케줄링
  
  : 우선순위가 높은 프로세스부터 CPU를 할당
  
  - 장점 : 중요도가 높은 프로세스 먼저 처리 가능
  - 단점 : 낮은 우선순위 프로세스가 계속 대기할 수 있는 **기아 현상** 가능
  - 에이징 기법 : 기아 현상을 해결하기 위한 방법 중 하나

- #### 다단계 큐 스케줄링
  
  : 여러 개의 큐를 사용하여 프로세스를 우선순위별로 분류하고, 큐별로 다른 스케줄링 방식 적용
  
  - 장점 : 프로세스 유형별로 스케줄링을 조정 가능
  - 단점 : 프로세스가 큐 간에 이동할 수 없어 **기아 현상** 발생 가능

- #### 다단계 피드백 큐 스케줄링
  
  : 프로세스가 각 큐에서 실행을 시도하고, 완료되지 않으면 낮은 우선순위 큐로 이동
  
  - 장점 : CPU 집중 프로세스와 I/O 집중 프로세스를 효과적으로 처리 가능. 큐 간의 이동이 가능하여 **기아 현상**을 줄일 수 있음
  - 단점 : 스케줄링 복잡성 증가
