# CPU 스케줄링

: 운영체제가 다수의 프로세스에게 CPU 자원을 효율적으로 배분하는 방법

- 가장 공정한 CPU 스케줄링
  
  - 입출력 작업이 많은 프로세스(=입출력 집중 프로세스)의 우선순위는 CPU 작업이 많은 프로세스(=CPU 집중 프로세스)의 우선순위보다 높음

- 목표
  
  - 모든 프로세스에게 공정한 기회 제공
  - 시스템 전체 성능 향상
  - 특정 프로세스에 대한 우선순위 부여

- 중요성
  
  - 시스템의 응답성과 처리량에 직접적인 영향
  - 부적절한 스케줄링은 시스템 성능 저하 및 특정 프로세스의 실행 지연 초래

- #### 스케줄링 큐
  
  : CPU를 사용하고자 하는 프로세스들이 대기하는 자료구조
  
  - 우선순위, 도착 시간 등 다양한 기준에 따라 처리 순서 결정
  
  - 종류
    
    - 준비 큐
      
      : CPU를 즉시 사용할 준비가 된 프로세스들의 대기열
    
    - 대기 큐
      
      : 입출력 작업 등으로 인해 CPU를 사용할 수 없는 상태의 프로세스들의 대기열
      
      - 같은 장치를 요구한 프로세스들은 같은 큐에서 대기
  
  - 선점형 스케줄링과 비선점형 스케줄링
    
    - 선점형 스케줄링 (Preemptive scheduling)
      
      : 현재 CPU를 사용 중인 프로세스로부터 CPU 자원을 빼앗아 다른 프로세스에 할당
      
      - 장점 : 어느 할 프로세스의 자원 독점을 막고 프로세스들에 골고루 자원 분배 가능
      
      - 단점 : 문맥 교환 과정에서 오버헤드가 발생할 수 있음
    
    - 비선점형  스케줄링 (Non-Preemptive scheduling)
      
      : 현재 CPU를 사용 중인 프로세스의 작업이 끝날 때까지 프로세스 기다리기
      
      - 장점 : 문맥 교환에서 발생하는 오버헤드가 적음
      
      - 단점 : 모든 프로세스가 골고루 자원을 이용하기 어렵

---

## 스케줄링 알고리즘

- **선입선처리(FCFS) 스케줄링**
  
  : 준비 큐에 가장 먼저 들어온 프로세스부터 처리하는 비선점형 스케줄링
  
  - 장점 : 간단하고 구현이 쉬움
  
  - 단점 : 긴 작업이 뒤에 있는 작업들의 대기 시간을 길게 만드는 **호위 효과** 발생

- **최단 작업 우선(SJF) 스케줄링**
  
  : 실행 시간이 가장 짧은 작업부터 먼저 처리하는 스케줄링(기본:비선점형. 선점형으로도 구현 가능)
  
  - 장점 : 평균 대기 시간을 줄일 수 있음
  
  - 단점 : 실행 시간을 미리 알 수 없다

- **라운드 로빈(RR) 스케줄링**
  
  : 선입 선처리 스케줄링 + 타임 슬라이스(time slice). 정해진 타임 슬라이스만큼의 시간 동안 돌아가며 CPU를 이용하는 선점형 스케줄링
  
  - 타임 슬라이스 : 각 프로세스가 CPU를 사용할 수 있는 정해진 시간
  
  - 장점 : 모든 프로세스에게 공평한 기회 제공
  
  - 단점 : 타임 슬라이스 크기에 따라 성능이 크게 달라질 수 있음

- **최소 잔여 시간 우선(SRT) 스케줄링**
  
  : 최단 작업 우선 스케줄링 + 라운드 로빈 스케줄링
  
  - 정해진 시간만큼 CPU를 이용하되, 다음으로 CPU를 사용할 프로세스로는 남은 시간이 가장 적은 프로세스 선택
  
  - 장점 : SJF의 장점을 유지하면서 선점형 스케줄링의 장점도 함께 가짐
  
  - 단점 : 잔여 시간을 정확하게 예측하기 어려울 수 있음

- **우선순위 스케줄링**
  
  : 각 프로세스에 우선순위를 부여하고, 우선순위가 높은 프로세스부터 먼저 처리하는 방식
  
  - 장점 : 중요한 프로세스에 우선순위를 부여하여 빠르게 처리 가능
  
  - 단점 : 우선순위가 낮은 프로세스는 무한정 기다릴 수 있는 **기아 현상(starvation)** 발생 가능성
  
  - **에이징(aging)** : 기아 현상을 방지하기 위해 오랫동안 대시한 프로세스의 우선순위를 점차 높이는 방식

- **다단계 큐 스케줄링**
  
  : 우선순위에 따라 여러 개의 큐를 만들고, 각 큐에 다른 스케줄링 알고리즘을 적용하는 방식
  
  - 장점 : 프로세스의 특성에 맞게 스케줄링을 조정 가능
  
  - 단점 : 큐 간 이동이 불가능하여 **기아 현상** 발생 가능성

- **다단계 피드백 큐 스케줄링**
  
  : 다단계 큐 스케줄링의 단점을 보완하여 큐 간 이동을 허용하는 방식
  
  - 장점 : CPU 집중 프로세스는 낮은 우선순위 큐로 이동하고, I/O 집중 프로세스는 높은 우선순위 큐에서 빠르게 처리
  
  - 단점 : 구현 복잡

- 스케줄링 알고리즘 선택 시 고려 사항
  
  - 시스템의 특성 : 배치 시스템, 대화형 시스템, 실시간 시스템 등
  
  - 프로세스의 특성 : CPU 집중, I/O 집중 등
  
  - 시스템 자원 : CPU, 메모리 등
  
  - 성능 목표 : 응답 시간, 처리량, 자원 활용도 등
