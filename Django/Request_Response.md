# 요청과 응답

- **요청(Request)**
  
  : 클라이언트(브라우저 등)가 서버에 보내는 데이터
  
  - 헤더(Header)와 바디(Body) 포함

- **응답(Response)**
  
  : 서버가 클라이언트의 요청에 대해 보내는 데이터
  
  - 헤더와 바디 포함

- 헤더와 바디
  
  - 개행을 기준으로 헤더와 바디 구분
  
  - **헤더**
    
    : 요청 또는 응답의 메타데이터 포함
    
    - ex) 요청의 URL, 요청 메서드(GET, POST 등), 응답 상태 코드(200 OK 등) 등
  
  - **바디**
    
    : 요청 또는 응답의 실제 데이터가 포함
    
    - ex) 폼 제출 시 입력된 데이터나 서버에서 클라이언트로 보내는 HTML, JSON 데이터 등
  
  - 웹 브라우저에서의 개발자 도구의 네트워크 탭을 사용하면 요청과 응답의 세부 사항을 확인 가능. 헤더와 바디, 요청 URL, 응답 데이터 등을 볼 수 있음

- **HTTP 메서드**:
  
  - **GET**: 서버에서 데이터를 가져오는 요청
  
  - **POST**: 서버에 데이터를 보내는 요청
  
  - 요청 파라미터: URL에 포함된 데이터(쿼리 스트링 등)로, GET 요청에서 주로 사용
  
  - POST 요청 등에서 서버로 보내는 데이터는 바디에 포함됨

- **세션**
  
  : 클라이언트를 구분하기 위해 서버에서 관리하는 데이터
  
  - 쿠키를 통해 클라이언트에 저장되며, 세션을 통해 사용자의 상태 유지

- **템플릿**
  
  - 장고에서는 템플릿을 사용해 응답 데이터를 동적으로 생성
  
  - 템플릿을 사용하면 HTML 파일에서 데이터 바인딩 및 동적 콘텐츠 생성이 쉬움
  
  - 각 앱의 템플릿 폴더를 설정하고, 앱 별로 템플릿 파일을 관리하는 것이 권장
    
    - 각 앱에 `templates` 폴더를 만들고, `ex_view` 폴더를 만들어 `index.html` 생성
  
  - 앱의 `views.py` 파일에서 `index`함수 재설정
    
    ```python
    def index(request):
        return render(request, "ex_view/index.html")
    ```
    
    - `settings.py` 파일에 생성한 앱 추가하는 것 잊지 않기!

---

# 링크 클릭 및 URL 처리

- **링크 클릭 시 요청 흐름**
  
  - 웹 브라우저에서 링크를 클릭하면 서버에 요청을 보냄
  - 요청 URL을 보면 물음표(`?`)를 기준으로 경로와 파라미터 구분
    - **경로**: URL의 앞부분
    - **파라미터**: URL의 물음표 뒤에 오는 부분

- **서버 요청 처리**
  
  - 서버에서 경로에 따라 요청 처리
  - 장고에서는 URL을 등록하고 뷰를 연결해 요청 처리
    - ex) `get1`이라는 요청을 처리하려면 `urls.py`에 경로를 등록하고, `views.py`에서 처리

- **개발자 도구를 활용한 확인**
  
  - 웹 브라우저의 개발자 도구에서 요청과 응답 확인
  - **헤더**와 **본문**을 구분할 수 있으며, 요청 URL과 응답 데이터를 확인 가능
    - **헤더**: 요청/응답의 메타데이터
      - ex) 요청 URL, 요청 방법(GET, POST 등), 응답 상태 코드(200 OK 등)
    - **본문**: 실제 데이터
      - ex) 폼 제출 시 입력된 데이터, HTML, JSON 등

- **파라미터 처리**
  
  - 클라이언트가 보낸 요청에서 파라미터를 꺼낼 수 있음
  - `GET` 요청 시 URL 뒤에 있는 파라미터 서버에서 처리 가능
    - ex)  `http://example.com/get1?n1=10&n2=20`
      - 서버에서 요청 객체의 `GET` 속성으로 파라미터를 확인
      - **10, 20은 모두 문자열 형태로 저장됨**
  - 경로 변수를 이용하면 `?` 아님
    - ex) `get2/<int:n1>/<int:n2>/<str:n3>/` : 정수/정수/문자열 형태로 파라미터 받겠다는 의미

- **장고의 URL 매칭 및 뷰 처리**
  
  - URL 패턴을 설정하고, 해당 요청에 대해 어떤 뷰가 처리할지 설정
    - ex) `urls.py`에 `get1`과 `get2`에 대한 경로를 설정하고, 각각의 뷰를 추가

- **템플릿 활용**
  
  - 장고에서는 템플릿을 사용하여 응답 데이터를 동적으로 생성합니다.
  
  - 템플릿 폴더를 앱별로 설정하고 HTML 파일을 관리합니다.
    
    - **예시**:
      - 각 앱에 `templates` 폴더를 만들고, `ex_view` 폴더를 생성하여 `index.html`을 작성합니다.
      - `views.py` 파일에서 `index` 함수를 설정하여 `index.html`을 렌더링합니다.

- **GET과 POST의 차이점**
  
  - **GET**
    : 서버에서 데이터를 조회할 때 사용 
    
    - 파라미터: URL의 쿼리 문자열에 포함
    - 데이터 크기: 제한이 있으며, URL 길이에 따라 제한
    - 캐시: 브라우저 캐시가 가능하며, 즐겨찾기 추가 가능
    - 안전성: 데이터가 URL에 노출되므로 보안에 민감한 데이터 전송에는 적합하지 않음
  
  - **POST**
    : 서버에 데이터를 전송하거나 서버 상태를 변경할 때 사용
    
    - 파라미터: 요청 본문(body)에 포함됨. URL에는 표시X
    - 데이터 크기: 제한이 없거나 훨씬 큼. 파일 업로드 등 대량 데이터 전송에 적합
    - 캐시: 브라우저 캐시가 적용되지 않으며, 즐겨찾기에 추가할 수 없음
