# 관통 PJT

## 용어

- 서버 : 부탁을 받으면 처리해주거나, 부탁대로 원하는 값을 돌려주는 역할을 합니다.

- 클라이언트 : 부탁하는 역할

- 파싱(Parsing) : 데이터를 의미있는 구조로 분석하고 해석하는 과정
  
  - `json.loads()` : JSON 형식의 문자열을 파싱하여 python Dictionary로 변환

---

- ### 클라이언트가 서버에 요청하는 2가지 방법
  
  1. 웹 브라우저(크롬)를 켜서 주소창에 주소(URL)를 입력한다.
     
     > ex) `https://fakestoreapi.com/carts`
  
  2. 서버에 정보를 요청하는 파이썬 코드를 작성한다.
     
     1. `vscode`를 켜고, 터미널 창 열기
     
     2. `$pip install requests` 로 requesets 설치
        
        - requests : 파이썬에서 서버에 요청을 보낼 수 있는 도구. 브라우저처럼 서버로 요청을 보낼 수 있는 패키지
        - `pip` : Python Install Package
        - `pip list` : 설치된 패키지 확인 가능
     
     3. `test.py` 파일을 만들고, 아래처럼 파이썬 코드 작성
        
        - ```python
          import requests
          
          url = 'https://fakestoreapi.com/carts'
          data = requests.get(url).json()
          print(data)
          ```
        
        - `url` : 요청을 보내는 서버의 주소
        
        - `requests.get(url)` : 해당 서버(url)에 데이터를 달라고 요청을 보내는 함수
        
        - `.json()` : 내부의 데이터를 JSON(파이썬의 딕셔너리와 비슷함) 형태로 변환해주는 함수

- ### API
  
  : 클라이언트가 원하는 기능을 수행하기 위해서 서버 측에 만들어 놓은 프로그램
  
  - 기능 예시 : 데이터 저장, 조회, 수정, 삭제 등
  
  - 서버 측에 특정 주소로 요청이 오면 정해진 기능을 수행하는 API를 미리 만들어 둠
    
    - 클라이언트는 서버가 미리 만들어 넣은 주소로 요청을 보냄
  
  - #### 오픈 API
    
    : 외부에서 사용할 수 있도록 무료로 개방된 API
    
    - 특징 및 주의사항
      
      - 너무 많은 계정에서 동시에 요청을 보내면 서버가 견디지 못함
      
      - 위 문제점을 해결하기 위해 오픈 API는 **API KEY** 활용해 사용자를 확인함
        
        - 사용자 인증 혹은 회원가입 시 서버에서 API KEY 발급
        
        - 서버에 요청할 때마다 API KEY 함께 보내 정상 사용자인 것 확인받음
      
      - 일부 오픈 API는 사용량이 제한되어 있음 
        
        - 공식 문서의 일일 및 월간 사용량 제한 반드시 확인할 것
        
        - 사용량이 초과될 경우 요금이 청구될 수 있음
    
    - 프로젝트에서 사용되는 API
      
      - OpenWeatherMap API : 기상 데이터 및 날씨 정보를 제공하는 오픈 API
      - 금융상품통합비교공시 API : 금융감독원에서 제공하는 금융 상품 정보를 제공하는 오픈 API

- ### API가 사용하는 데이터 형식 : JSON
  
  : JavaScript Object Notation의 약자. '자바스크립트 객체 표기법'
  
  - 데이터를 저장하거나 전송할 때 많이 사용되는 경량의 텍스트 기반의 데이터 형식
  
  - 통신 방법이나 프로그래밍 문법이 아니라 단순히 데이터를 표현하는 표현 방법 중 하나
  
  - 특징
    
    - 데이터는 중괄호`{}`로 둘러싸인 키-값 쌍의 집합으로 표현됨
    
    - 키 = 문자열 / 값 = 다양한 데이터 유형
    
    - 값은 쉼표`,`로 구분됨

---

## 실습 : 날씨 데이터 수집

- OpenWeatherMap API
  
  - 기상 데이터 및 날씨 정보를 제공하는 오픈 API
  
  - 전세계 날씨 데이터를 가져와 날씨, 일일 및 시간 별 예보 등 다양한 정보 얻을 수 있음
  
  - API 사용량 제한
    
    - 60 calls/minute
    
    - 1,000,000 calls/month
1. #### KEY 발급
   
   1. 사이트 접속 및 회원가입 (이메일 인증 필수)
   
   2. API Keys 탭으로 이동
   
   3. API Key 복사

2. #### 사용법 확인
   
   1. 상단 API 탭 클릭
      
      - 현재 날씨에 대한 데이터를 사용하기 위해 Current Weather Data의 API Doc 클릭

3. #### 실습
   
   1. 특정 지역의 현재 날씨에 대한 모든 정보 출력하기
      
      - 공식 문서`Call current weather data`의 `API call` url 참고해 코드에 반영
      
      - 공식문서`Built-in API request by city name` 참고해 도시 이름으로 요청 url 생성 능
   
   2. 서울의 현재 날씨 중 온도만 출력하기
      
      - 기본적으로 캘빈(K) 온도 반환
      
      - 섭씨 온도 = 캘빈온도 - 273.15
   
   3. 서울의 현재 날씨에 대한 설명(description) 데이터만 출력하기
      
      - Json 형태의 데이터를 분석해 원하는 부분만 가져오도록 구성
      
      - ```python
        json_response = requests.get(url).json()
        description = json_response['weather'][0]['description']
        return f'날씨 설명: {description}'
        ```

---

## 도전과제

### 금융상품 비교 앱 PJT01 - 파이썬을 활용한 API 데이터 수집

- 목표 : 파이썬으로 날씨 데이터 수집 및 미션 수행
- 특징
  - 외부 서버를 활용하 데이터 수집
  - 요구사항에 맞게 JSON 형태 데이터 가공
  - [심화] 정기 예금 데이터 수집 및 미션 수행(선택)

### 영화 추천 서비스 PJT01 - 파이썬을 활용한 데이터 수집 1

- 목표 : 파이썬으로 도서 및 아티스트 데이터 가공 및 미션 수행
- 특징
  - 샘플 데이터 제공
  - 요구사항에 맞게 JSON 형태 데이터 가공
- 사용하는 API
  - 제공되는 데이터 : `book.json`, `artist.json` 등
  - `Aladin API` : 알라딘 온라인 서점. 책, 음반, 도서 등의 상품 정보 데이터를 제공하는 API
  - `Spotify API` : 음악 스트리밍 서비스. 음악, 앨범, 아티스트 정보 등의 음악 관련 데이터를 제공하는 API
