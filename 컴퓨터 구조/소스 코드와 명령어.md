# 소스 코드와 명령어

- 소스 코드를 실행하면 컴퓨터는 이를 그대로 실행하는 것처럼 보이지만, 실제로는 고급 언어가 저급 언어로 변환되어 실행

- **고급 언어**
  
  : 개발자가 읽고 쓰기 편하게 만들어진 언어 (예: C, C++, Java, Python)

- **저급 언어**
  
  : 컴퓨터가 이해하고 실행하기 위해 만들어진 언어로, 기계어와 어셈블리어로 나뉨
  
  - **기계어**: 0과 1로 이루어진 이진수 형태의 언어
  
  - **어셈블리어**: 기계어를 사람이 읽기 쉽게 번역한 형태

- 컴파일러와 인터프리터
  
  - **컴파일러**: 소스 코드를 한 번에 저급 언어로 변환하여 목적 코드를 생성
  
  - **인터프리터**: 소스 코드를 한 줄씩 해석하여 실행

- 명령어의 구성
  
  - **연산 코드**: 수행할 연산을 지정
    - 종류
      - 데이터 전송
        - MOVE : 데이터를 옮겨라
        - STORE : 메모리에 저장하라
        - LOAD (FETCH) : 메모리에서 CPU로 데이터를 가져와라
        - PUSH : 스택에 데이터를 저장하라
        - POP : 스택의 최상단 데이터를 가져와라
      - 산술/논리 연산
        - ADD / SUBTRACT / MULTIPLY / DIVIDE : 덧셈/뺄셈/곱셈/나눗셈을 수행하라
        - INCREMENT / DECREMENT : 오퍼랜드에 1을 더하라/빼라
        - AND / OR / NOT : AND/OR/NOT 연산을 수행하라
        - COMPARE : 두 개의 숫자 또는 TRUE/FALSE 값을 비교하라
      - 제어 흐름 변경
        - JUMP : 특정 주소로 실행 순서를 옮겨라
        - CONDITIONAL JUMP : 조건에 부합할 때 특정 주소로 실행 순서를 옮겨라
        - HALT : 프로그램의 실행을 멈춰라
        - CALL : 되돌아올 주소를 저장한 채 특정 주소로 실행 순서를 옮겨라
        - RETURN : CALL을 호출할 때 저장했던 주소로 돌아가라
      - 입출력 제어
  - **오퍼랜드**: 연산에 필요한 데이터나 데이터의 위치(주소필드)를 지정
    - 오퍼랜드는 여러 개일 수 있으며, 연산에 사용될 데이터나 주소를 포함
    - 유효 주소(effective address) : 연산에 사용할 데이터가 저장된 위치
    - 주소지정 방식
      - **즉시 주소지정 방식**: 데이터를 명령어에 직접 명시. 가장 간단. 연산에 사용할 데이터의 크기가 작아질 수 있지만 빠름
      - **직접 주소지정 방식**: 데이터의 유효 주소를 직접 명시. 유효 주소를 표현할 수 있는 크기가 연산 코드만큼 줄어듦
      - **간접 주소지정 방식**: 유효 주소의 주소를 명시하여 메모리를 효율적으로 사용. 속도가 느림
      - **레지스터 주소 지정 방식** : 연산에 사용할 데이터가 저장된 레지스터 명시. 메모리에 접근하는 속도보다 레지스터에 접근하는 것이 빠름

## C언어의 컴파일 과정

1. **전처리(Preprocessing)**
   
   - 외부 소스 코드나 라이브러리를 포함하고 매크로를 변환하는 준비 작업
   - 전처리된 결과물은 확장자 `.i` 파일로 생성됨

2. **컴파일(Compile)**
   
   - 전처리된 소스 코드를 어셈블리어로 변환
   - 결과물은 `.s` 파일로 저장

3. **어셈블(Assemble)**
   
   - 어셈블리어를 기계어로 변환하여 목적 파일을 생성
   - 결과물은 `.o` 파일

4. **링킹(Linking)**
   
   - 여러 목적 파일을 하나의 실행 파일로 결합
   - 링킹 과정을 통해 최종 실행 파일이 생성
